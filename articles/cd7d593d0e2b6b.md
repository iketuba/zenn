<!-- pandas(åŸºæœ¬) -->
<!-- https://zenn.dev/python3654/articles/cd7d593d0e2b6b -->

---
title: "Pandas(åŸºæœ¬)"
emoji: "ğŸ•Œ"
type: "tech"
topics: ["python", "pandas"]
published: true
---

# åˆã‚ã«
pandasã¨ã¯pythonã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®1ã¤ã§ãƒ‡ãƒ¼ã‚¿åˆ†æã«ç”¨ã„ã¾ã™ã€‚pandasã‚’ç”¨ã„ã‚‹ã¨ãã¯ã¾ãšåˆã‚ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã¦pandasã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
```py
import padas as pd
```

# DataFrameã¨Series
pandasã«ã¯DataFrameã¨Seriesã¨ã„ã†2ã¤ã®é‡è¦ãªå‹ãŒã‚ã‚Šã¾ã™ã€‚

## DataFrame
DataFrameã¯è¡¨ã®ã‚ˆã†ãªã‚‚ã®ã§ã€æ¨ªä¸€åˆ—ã‚’è¡Œã€ç¸¦ä¸€åˆ—ã‚’åˆ—ã¨ã„ã„ã¾ã™ã€‚ä¾‹ã¨ã—ã¦ä»¥ä¸‹ã®DataFrmeã‚’è€ƒãˆã¾ã™ã€‚([pd.DataFrame](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html?highlight=dataframe#pandas.DataFrame))
```py
pd.DataFrame({'A': [3, 4], 'B': [5, 6]})
```
ãƒ»å‡ºåŠ›
| |A|B|
| ---- | ---- | ---- |
|0|3|5|
|1|4|6|

ã“ã®ä¾‹ã§ã¯ã€è¡Œã®å€¤ãŒ0ã€åˆ—ã®å€¤ãŒBã®ã¨ãã€DataFrameã®å€¤ã¯5ã€è¡Œã®å€¤ãŒ1ã€åˆ—ã®å€¤ãŒBã®ã¨ãã€DataFrameã®å€¤ã¯6ã¨ãªã£ã¦ã„ã¾ã™ã€‚æ¬¡ã®ä¾‹ã®ã‚ˆã†ã«DataFrameã®å€¤ã¯æ•°å­—ã ã‘ã§ãªãã€æ–‡å­—ã‚‚okã§ã™ã€‚
```py
pd.DataFrame({'æœç‰©': ['ã¿ã‹ã‚“', 'ã‚Šã‚“ã”'], 'é‡èœ': ['ã«ã‚“ã˜ã‚“', 'ãƒ¬ã‚¿ã‚¹']})
```
ãƒ»å‡ºåŠ›
| |æœç‰©|é‡èœ|
| ---- | ---- | ---- |
|0|ã¿ã‹ã‚“|ã«ã‚“ã˜ã‚“|
|1|ã‚Šã‚“ã”|ãƒ¬ã‚¿ã‚¹|

ä»¥ä¸Šã®ä¾‹ã§ã¯è¾æ›¸ã‹ã‚‰DataFrameã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚è¾æ›¸ã®ã‚­ãƒ¼ãŒåˆ—ã®åå‰ã¨ãªã‚Šã€è¾æ›¸ã®å€¤ãŒåˆ—ã®å€¤ã¨ãªã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚pd.DataFrameã®å¼•æ•°indexã®å€¤ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€åˆ—ã®åå‰ã‚‚å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```py
pd.DataFrame({'æœç‰©': ['ã¿ã‹ã‚“', 'ã‚Šã‚“ã”'], 
              'é‡èœ': ['ã«ã‚“ã˜ã‚“', 'ãƒ¬ã‚¿ã‚¹']},
	      index=['ä¸€ç•ªå¥½ã', 'æ¬¡ã«å¥½ã'])
```
ãƒ»å‡ºåŠ›
| |æœç‰©|é‡èœ|
| ---- | ---- | ---- |
|ä¸€ç•ªå¥½ã|ã¿ã‹ã‚“|ã«ã‚“ã˜ã‚“|
|æ¬¡ã«å¥½ã|ã‚Šã‚“ã”|ãƒ¬ã‚¿ã‚¹|

## Series
DataFrameã¯è¡¨ã§ã™ãŒã€Seriesã¯é…åˆ—ã§ã€ãƒªã‚¹ãƒˆã‹ã‚‰ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚([pd.Series](https://pandas.pydata.org/docs/reference/api/pandas.Series.html?highlight=series#pandas.Series))
```py
pd.Series([1, 2, 3, 4, 5])
```
ãƒ»å‡ºåŠ›
0ã€€ã€€1
1ã€€ã€€2
2ã€€ã€€3
3ã€€ã€€4
4ã€€ã€€5
dtype: int64

Seriesã¯ä¸€åˆ—ã®DataFrameã§ã™ã€‚ãã®ãŸã‚ã€DataFrameã¨åŒã˜ã‚ˆã†ã«å¼•æ•°indexã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§è¡Œã®åå‰ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã—ã‹ã—ã€Seriesã«ã¯åˆ—ã”ã¨ã®åå‰ãŒãªãã€ä»£ã‚ã‚Šã«å…¨ä½“ã¨ã—ã¦ã®åå‰ãŒã‚ã‚Šã¾ã™ã€‚
```py
pd.Series([48, 39, 59], index=['2020 å£²ä¸Š', '2021 å£²ä¸Š', '2022 å£²ä¸Š'], name='è£½å“X')
```
ãƒ»å‡ºåŠ›
2020å£²ä¸Šã€€ã€€48
2021å£²ä¸Šã€€ã€€39
2022å£²ä¸Šã€€ã€€59
Name: è£½å“X, dtype: int64

# ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
DataFrameã‚„Seriesã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸãŒã€ã»ã¨ã‚“ã©ã®å ´åˆã¯æ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã„ã¾ã™ã€‚
ãƒ‡ãƒ¼ã‚¿ã«ã¯æ§˜ã€…ãªå½¢å¼ãŒã‚ã‚Šã¾ã™ãŒã€åŸºæœ¬çš„ãªã‚‚ã®ã¨ã—ã¦csvãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚csvãƒ•ã‚¡ã‚¤ãƒ«ã¯Comma-Separated Valuesã®ç•¥ã§ã€ã‚³ãƒ³ãƒåŒºåˆ‡ã‚Šã®å€¤ã‹ã‚‰ãªã‚‹è¡¨ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚

ä»Šå›ã¯kaggleã®titanicã‚³ãƒ³ãƒšã®ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨ã„ã¾ã™ã€‚train.csvã®ã¿ç”¨ã„ã¾ã™ã€‚
https://www.kaggle.com/c/titanic/data

csvãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«[pd.read_csv](https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html?highlight=read_csv#pandas.read_csv)ã‚’ç”¨ã„ã¾ã™ã€‚ãƒ‘ã‚¹ã«ã¯train.csvã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å ´æ‰€ã‚’æŒ‡å®šã—ã¾ã™ã€‚
```py
train = pd.read_csv('/content/drive/MyDrive/Colab Notebooks/datasets/train.csv')
```
shapeã‚’ç”¨ã„ã¦DataFrameã®å¤§ãã•ã‚’ç¢ºèªã§ãã¾ã™ã€‚
```py
train.shape
```
ãƒ»å‡ºåŠ›
(891, 12)

ã“ã“ã‹ã‚‰ã€trainã¯891è¡Œ12åˆ—ã®ãƒ‡ãƒ¼ã‚¿ã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚[pd.DataFrame.head](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.head.html?highlight=head#pandas.DataFrame.head)ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã€DataFrameã®å…ˆé ­5è¡Œã‚’ç¢ºèªã§ãã¾ã™ã€‚
```py
train.head()
```
ãƒ»å‡ºåŠ›
![](https://storage.googleapis.com/zenn-user-upload/a17122135d07-20220404.png)

PassengerIdã‚’è¡Œã®åå‰ã¨ã—ã¦ä½¿ã„ãŸã„å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚
```py
train = pd.read_csv('/content/drive/MyDrive/Colab Notebooks/datasets/train.csv')
train.head()
```
ãƒ»å‡ºåŠ›
![](https://storage.googleapis.com/zenn-user-upload/0580902796fb-20220404.png)
