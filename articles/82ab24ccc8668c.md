---
title: "pandas(インデックス)"
emoji: "✨"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["python", "pandas"]
published: false
---

# 初めに
この記事では、pandasのDataFrameやSeriesから特定の値を取り出す方法を説明します。
環境はGoogle Colaboratoryを使っています。
今回はkaggleのWine Reviewsのwinemag-data-130k-v2.csvというデータを用います。
https://www.kaggle.com/datasets/zynicide/wine-reviews

まず、pandasをインポートしデータを読み込みます。(パスはダウンロードしたフォルダを指定して下さい。)また、pd.set_option('max_rows', 5)とすることで、表示する行数を最大で5行にすることができます。

```py
import pandas as pd
reviews = pd.read_csv("/content/drive/MyDrive/Colab Notebooks/datasets/wine_reviews/winemag-data-130k-v2.csv", index_col=0)
pd.set_option('max_rows', 5)
reviews
```

・出力
![](https://storage.googleapis.com/zenn-user-upload/c6b3f2074692-20220406.png)

# 列の取り出し方
reviewsというDataFrameからcountryという列だけを取り出します。それには以下の二種類の方法があります。

```py
reviews.country
```

```py
reviews['country']
```

・出力
![](https://storage.googleapis.com/zenn-user-upload/a5219f25a789-20220406.png)

基本的にどちらの方法も同じように列を取り出すことができますが、例えばcountry nameといった列の名前に空白を含む列を取り出したい場合は、reviews.country nameとすることはできず、reviews['country']のように[]を使う必要があります。

なお、reviewsからcountryという列の最初の行だけ取り出したい場合は以下のようにします。
```py
reviews['country'][0]
```

# ilocとloc
ilocやlocを用いて、DataFrameから特定の値を抜き出すこともできます。

## iloc
ilocはindexを指定することで、特定の値を抽出できます。
例えば最初の行を抽出したい場合は、以下のコードを実行します。
```py
reviews.iloc[0]
```
・出力
![](https://storage.googleapis.com/zenn-user-upload/882ccfd70488-20220406.png)

ilocとlocを使う際は、行を最初に、列を二番目に書きます。これは一般的なpythonにおける参照の仕方とは逆になっているため、注意が必要です。
最初の列を抽出したい場合は以下のコードを実行します。
```py
reviews.iloc[:, 0]
```
・出力
![](https://storage.googleapis.com/zenn-user-upload/de491d70e089-20220406.png)




<!-- pandas(インデックス) -->
<!--  -->

<!-- https://www.kaggle.com/code/residentmario/indexing-selecting-assigning -->